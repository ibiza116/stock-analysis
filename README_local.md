# 株価分析ツール - ユーザーマニュアル

## 📊 概要

日本株式のテクニカル分析を行うWebアプリケーションです。スイング投資に適した移動平均線分析、RSI指標、ゴールデンクロス検出機能を提供します。

## 🚀 セットアップ・起動方法

### 1. 必要な環境
- Python 3.8以上
- インターネット接続（株価データ取得のため）

### 2. 初回セットアップ

#### Step 1: 仮想環境の作成
```bash
# プロジェクトディレクトリに移動
cd /path/to/stock-analysis-tool

# 仮想環境作成
python -m venv myenv
```

#### Step 2: 仮想環境の有効化
**Windows の場合:**
```bash
myenv\Scripts\activate
```

**Linux/Mac の場合:**
```bash
source myenv/bin/activate
```

#### Step 3: 依存パッケージのインストール
```bash
pip install -r requirements.txt
```

### 3. アプリケーションの起動

#### Step 1: 仮想環境の有効化（毎回必要）
```bash
# Windows
myenv\Scripts\activate

# Linux/Mac
source myenv/bin/activate
```

#### Step 2: アプリケーション起動
```bash
python app.py
```

#### Step 3: ブラウザでアクセス
以下のメッセージが表示されたら起動完了：
```
* Running on http://127.0.0.1:5000
```

ブラウザで以下のURLにアクセス：
```
http://localhost:5000
```

### 4. 終了方法
- ブラウザを閉じる
- ターミナルで `Ctrl + C` を押してアプリケーションを停止
- 仮想環境を無効化: `deactivate`

## 📈 使用方法

### 基本的な分析手順

#### 1. 銘柄コード入力
- **入力欄**: 「銘柄コード（4桁）」
- **形式**: 4桁の数字のみ（例：7203）
- **注意**: 東証上場銘柄のみ対応

#### 2. 分析期間選択
- **3ヶ月**: 短期トレンド分析
- **6ヶ月**: 中期トレンド分析（推奨）
- **1年**: 長期トレンド分析

#### 3. 分析実行
- 「分析開始」ボタンをクリック
- 「分析中...」表示中はしばらく待機（2-5秒程度）

#### 4. 結果の確認
分析完了後、以下の情報が表示されます：

## 📋 分析結果の見方

### 📊 株価チャート
- **青線**: 終値（実際の株価）
- **緑線**: 25日移動平均線
- **赤線**: 75日移動平均線
- **▲マーク**: ゴールデンクロス（買いシグナル）
- **▼マーク**: デッドクロス（売りシグナル）

### 🎯 売買シグナル

#### 買いシグナル（緑色表示）
- **RSI oversold**: RSI値が30以下（強い買いシグナル）
- **Recent golden cross**: 5日以内のゴールデンクロス（中程度の買いシグナル）

#### 売りシグナル（赤色表示）
- **RSI overbought**: RSI値が70以上（強い売りシグナル）
- **Recent dead cross**: 5日以内のデッドクロス（中程度の売りシグナル）

### 📊 RSI指標
- **数値範囲**: 0-100
- **30以下**: 売られすぎ → 買いチャンス
- **70以上**: 買われすぎ → 売りチャンス
- **30-70**: 中立圏

## 💡 推奨銘柄（テスト用）

| 銘柄コード | 企業名 | 特徴 |
|----------|-------|------|
| 7203 | トヨタ自動車 | 大型株、安定した値動き |
| 6758 | ソニーグループ | 値動きが大きい、テクニカル分析に適している |
| 9984 | ソフトバンクグループ | 高ボラティリティ |
| 8306 | 三菱UFJフィナンシャル・グループ | 金融株の代表例 |

## ⚠️ 注意事項・制限事項

### データに関する注意
- **データソース**: Yahoo Finance（リアルタイムではない）
- **更新頻度**: 市場終了後に更新
- **取得可能銘柄**: 東証上場銘柄のみ
- **データ遅延**: 約20分程度の遅延あり

### 分析の制限
- **移動平均線**: データ期間が短い場合、表示されない場合があります
- **RSI**: 計算に最低14日のデータが必要
- **ゴールデンクロス**: 25日・75日移動平均線のデータが不足する場合、検出されません

### システム制限
- **同時接続**: 開発環境のため、1ユーザーでの使用を想定
- **API制限**: 連続して多数の銘柄を分析すると制限にかかる場合があります

## 🔧 トラブルシューティング

### よくある問題と解決法

#### 1. 「4桁の銘柄コードを入力してください」エラー
**原因**: 銘柄コードの形式が正しくない
**解決法**: 4桁の数字のみ入力（例：7203）

#### 2. 「エラー: 指定された銘柄が見つかりません」
**原因**: 存在しない銘柄コード、または上場廃止銘柄
**解決法**: 
- 銘柄コードを確認
- 東証上場銘柄かどうか確認
- 上場廃止していないか確認

#### 3. 「通信エラーが発生しました」
**原因**: インターネット接続またはサーバーの問題
**解決法**:
- インターネット接続を確認
- しばらく時間をおいて再試行
- ファイアウォール設定を確認

#### 4. 移動平均線が表示されない
**原因**: データ期間が短すぎる
**解決法**: より長い期間（6ヶ月または1年）を選択

#### 5. アプリケーションが起動しない
**原因**: 仮想環境が有効化されていない、または依存パッケージ不足
**解決法**:
```bash
# 仮想環境有効化
source myenv/bin/activate  # Linux/Mac
myenv\Scripts\activate     # Windows

# パッケージ再インストール
pip install -r requirements.txt
```

### デバッグ方法
1. ブラウザのデベロッパーツール（F12）でConsoleタブを確認
2. ターミナルのエラーメッセージを確認
3. 問題が解決しない場合は、アプリケーションを再起動

## 📚 投資判断の参考情報

### ゴールデンクロス・デッドクロスの活用
- **ゴールデンクロス**: 短期移動平均線が長期移動平均線を上抜け → 上昇トレンドの可能性
- **デッドクロス**: 短期移動平均線が長期移動平均線を下抜け → 下降トレンドの可能性

### RSIの活用
- **RSI < 30**: 売られすぎ → 反発の可能性
- **RSI > 70**: 買われすぎ → 調整の可能性
- **RSI 30-70**: トレンド継続の可能性

### 投資判断時の注意
- **テクニカル分析は参考情報**: 必ず他の情報と併せて判断
- **リスク管理**: 損切りラインを設定
- **資金管理**: 余剰資金での投資を心がける
- **情報収集**: 企業の基本情報、ニュースも確認

## 📞 サポート・更新情報

### 機能追加予定
- ボリンジャーバンド
- MACD指標
- 出来高分析
- ファンダメンタル分析

### 免責事項
- 本ツールは投資判断の参考情報を提供するものです
- 投資による損失について、開発者は一切の責任を負いません
- 投資は自己責任で行ってください

---

**バージョン**: 1.0.0 (Phase 1)  
**最終更新**: 2025-07-28  
**動作確認**: ✅ 正常動作確認済み